<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>A Little Surprise üíñ</title>

<style>
  * { box-sizing: border-box; font-family: "Poppins", sans-serif; }

  body {
    margin: 0;
    min-height: 100vh;
    background: linear-gradient(135deg,#ff9a9e,#fad0c4);
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }

  /* Floating hearts & flowers */
  .float {
    position: absolute;
    animation: floatUp linear infinite;
    opacity: 0.9;
    font-size: 22px;
  }

  @keyframes floatUp {
    from { transform: translateY(110vh); }
    to { transform: translateY(-10vh); }
  }

  .card {
    background: #fff;
    border-radius: 24px;
    padding: 30px;
    width: 92%;
    max-width: 420px;
    text-align: center;
    box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    z-index: 2;
  }

  h1 {
    margin-top: 0;
    color: #e63946;
  }

  /* ‚ù§Ô∏è HEART BUTTON */
  .heart-btn {
    position: relative;
    width: 90px;
    height: 90px;
    background: #ff4d6d;
    transform: rotate(-45deg);
    margin: 20px auto;
    cursor: pointer;
    animation: pulse 1.5s infinite;
  }

  .heart-btn::before,
  .heart-btn::after {
    content: "";
    position: absolute;
    width: 90px;
    height: 90px;
    background: #ff4d6d;
    border-radius: 50%;
  }

  .heart-btn::before {
    top: -45px;
    left: 0;
  }

  .heart-btn::after {
    left: 45px;
    top: 0;
  }

  .heart-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%,-50%) rotate(45deg);
    color: #fff;
    font-size: 13px;
    font-weight: 600;
    text-align: center;
    width: 100px;
    pointer-events: none;
  }

  @keyframes pulse {
    0% { transform: rotate(-45deg) scale(1); }
    50% { transform: rotate(-45deg) scale(1.1); }
    100% { transform: rotate(-45deg) scale(1); }
  }

  #message {
    margin-top: 18px;
    font-size: 16px;
    color: #444;
    white-space: pre-wrap;
  }

  #videoContainer {
    margin-top: 18px;
    display: none;
  }

  iframe {
    width: 100%;
    height: 220px;
    border-radius: 16px;
    border: none;
  }

  .footer {
    margin-top: 14px;
    font-size: 12px;
    color: #888;
  }
</style>
</head>

<body>

<!-- Floating decorations -->
<script>
  const icons = ["‚ù§Ô∏è","üíñ","üíó","üå∏","üíï","üíû"];
  for (let i=0;i<25;i++){
    const el=document.createElement("div");
    el.className="float";
    el.innerText=icons[Math.floor(Math.random()*icons.length)];
    el.style.left=Math.random()*100+"vw";
    el.style.animationDuration=(6+Math.random()*6)+"s";
    el.style.fontSize=(16+Math.random()*18)+"px";
    document.body.appendChild(el);
  }
</script>

<div class="card">
  <h1>A Little Surprise üíù</h1>

  <!-- ‚ù§Ô∏è HEART BUTTON -->
  <div class="heart-btn" id="revealBtn">
    <div class="heart-text">Tap üíå</div>
  </div>

  <div id="message"></div>

  <div id="videoContainer">
    <iframe id="ytPlayer" allow="autoplay; encrypted-media" allowfullscreen></iframe>
  </div>

  <div class="footer">Made with love ‚ú®</div>
</div>

<script>
/* Example data (from Firebase in real use) */
const DATA = {
  message: "This song reminds me of you üíñ\nClose your eyes and listen‚Ä¶",
  videoUrl: "https://www.youtube.com/watch?v=QYI1IDdm25U",
  mode: "always"
};

const btn = document.getElementById("revealBtn");
const msg = document.getElementById("message");
const vc  = document.getElementById("videoContainer");
const yt  = document.getElementById("ytPlayer");

let revealed = false;

btn.onclick = () => {
  if (DATA.mode === "one" && revealed) return;
  revealed = true;

  msg.innerText = DATA.message || "";

  if (DATA.videoUrl) {
    let url = DATA.videoUrl.trim();
    if (url.includes("youtube.com/watch")) {
      const id = new URL(url).searchParams.get("v");
      url = "https://www.youtube.com/embed/" + id + "?autoplay=1";
    } else if (url.includes("youtu.be")) {
      const id = url.split("/").pop();
      url = "https://www.youtube.com/embed/" + id + "?autoplay=1";
    }
    yt.src = url;
    vc.style.display = "block";
  }

  btn.style.display = "none";
};
</script>

</body>
</html>
